<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claims</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

</head>

<body>

    <div class="container-fluid">
        <h1 class="text-center alert alert-danger" style="background-color:rgb(83, 83, 88); color:white">
            View Claims
        </h1>

        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">

                <!----------------------------------------------->
                <!----------------------------------------------->
                <!--------------- Start Messages --------------->
                <!----------------------------------------------->

                <h2>Claims List
                    <div style="text-align: center;">
                        <h3>
                            {%with messages = get_flashed_messages()%}
                            {%if messages%}
                            {% for message in messages %}
                            <div class="alert alert-success alert-dismissable" role="alert">
                                <button type="button" class="close" data-dismiss="alert" aria-label="close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                {{message}}
                            </div>
                            {%endfor%}
                            {%endif%}
                            {%endwith%}
                        </h3>
                    </div>
                </h2>

                <!----------------------------------------------->
                <!--------------- End Messages ------------------>
                <!----------------------------------------------->


                <!-- ------------------------------------------------ -->
                <!-- ------------------------------------------------ -->
                <!------------------ view claims ----------------------->
                <!-- ------------------------------------------------ -->

                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col" style="text-align: left;">Claim ID</th>
                            <th scope="col">Beneficiary</th>
                            <th scope="col">Cost</th>
                            <th scope="col">Date</th>
                            <th scope="col">State</th>
                            <th scope="col">Discription</th>
                            <th scope="col">Make It Resolved</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for claim in claims_list %}
                        <tr>
                            <td style="text-align: left;">{{claim.0}}</td>
                            <td>{{claim.1}}</td>
                            <td>{{claim.2}}</td>
                            <td>{{claim.3}}</td>
                            <td>{{claim.4}}</td>

                            <td>
                                <a href="" class="btn btn-warning btn-sm" data-toggle="modal"
                                    data-target="#{{claim.0}}">
                                    View Description</a>
                            </td>

                            {%set Description='Mark this claim as resolved ?'%}
                            <td>
                                <a href="/make_claim_resolved?user={{user}}&claim_id={{claim.0}}"
                                    onclick="return confirm('{{Description}}')" class="btn btn-danger btn-sm">
                                    Make It Resolved</a>
                            </td>
                        </tr>

                        <!-- ------------------------------------------------ -->
                        <!------------------- Start View Description ------------>
                        <!-- ------------------------------------------------ -->

                        <div id="{{claim.0}}" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title text-primary" style="align-content: center;">
                                            Description of Claim</h5>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <textarea readonly class="form-control" id="exampleFormControlInput1"
                                                cols=" 60" rows='10'
                                                style="resize: none; color:black">{{claim.5}}</textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ------------------------------------------------ -->
                        <!------------------- End View Description ------------->
                        <!-- ------------------------------------------------ -->

                        {% endfor %}
                    </tbody>

                </table>

                <!-- -------------------------------------------------->
                <!------------------- End View ALL Climes ------------->
                <!-- -------------------------------------------------->
                <!-- -------------------------------------------------->

                <style>
                    tr {
                        text-align: center;
                    }
                </style>

            </div>
        </div>
    </div>





    <!---------------------------------------------------->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>